

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë²„ìŠ¤ ê²½ë¡œ ì°¾ê¸°</title>
    <style>
        /* ê°„ë‹¨í•œ ìŠ¤íƒ€ì¼ë§ */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }
        .container {
            background: white;
            width: 100%;
            max-width: 600px;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            font-size: 1.5rem;
        }
        .search-box {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        button {
            padding: 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        
        /* ê²°ê³¼ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .result-section {
            margin-top: 20px;
        }
        .section-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #555;
            border-left: 4px solid #007bff;
            padding-left: 8px;
        }
        .card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .bus-info {
            display: flex;
            flex-direction: column;
        }
        .bus-num {
            font-size: 1.2rem;
            font-weight: bold;
            color: #007bff;
        }
        .route-info {
            font-size: 0.9rem;
            color: #777;
        }
        .time-info {
            text-align: right;
        }
        .wait-time {
            font-size: 1rem;
            font-weight: bold;
            color: #d9534f; /* ë¶‰ì€ìƒ‰ ê°•ì¡° */
        }
        .total-time {
            font-size: 0.85rem;
            color: #555;
        }
        .badge {
            background: #eee;
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-left: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸš ë²„ìŠ¤ ê²½ë¡œ ê²€ìƒ‰</h1>
    
    <div class="search-box">
        <input type="text" id="startStation" placeholder="ì¶œë°œ ì •ë¥˜ì¥ (ì˜ˆ: ê°•ë‚¨ì—­)" value="ê°•ë‚¨ì—­">
        <input type="text" id="endStation" placeholder="ë„ì°© ì •ë¥˜ì¥ (ì˜ˆ: í™ëŒ€ì…êµ¬)" value="í™ëŒ€ì…êµ¬">
        <button onclick="findBus()">ë²„ìŠ¤ ì°¾ê¸°</button>
    </div>

    <div id="resultArea" style="display: none;">
        <!-- 1. ëŒ€ê¸° ì‹œê°„ ì§§ì€ ìˆœ -->
        <div class="result-section">
            <div class="section-title">â³ ê³§ ë„ì°©í•˜ëŠ” ë²„ìŠ¤ (ëŒ€ê¸° ì‹œê°„ ìˆœ)</div>
            <div id="listByWait"></div>
        </div>

        <!-- 2. ëª©ì ì§€ ë„ì°© ë¹ ë¥¸ ìˆœ -->
        <div class="result-section">
            <div class="section-title">ğŸš€ ê°€ì¥ ë¹¨ë¦¬ ê°€ëŠ” ë²„ìŠ¤ (ë„ì°© ì‹œê°„ ìˆœ)</div>
            <div id="listByFast"></div>
        </div>
    </div>
</div>

<script>
    // [ìƒ˜í”Œ ë°ì´í„°] ì‹¤ì œë¡œëŠ” APIì—ì„œ ë°›ì•„ì˜¬ ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤.
    // waitTime: í˜„ì¬ ì •ë¥˜ì¥ê¹Œì§€ ë‚¨ì€ ì‹œê°„ (ë¶„)
    // travelTime: ì´ë™ ì†Œìš” ì‹œê°„ (ë¶„)
    const mockBusData = [
        { busNo: "1001", start: "ê°•ë‚¨ì—­", end: "í™ëŒ€ì…êµ¬", waitTime: 2, travelTime: 60, type: "ê´‘ì—­" },
        { busNo: "402", start: "ê°•ë‚¨ì—­", end: "í™ëŒ€ì…êµ¬", waitTime: 15, travelTime: 35, type: "ê°„ì„ " },
        { busNo: "M5002", start: "ê°•ë‚¨ì—­", end: "í™ëŒ€ì…êµ¬", waitTime: 8, travelTime: 45, type: "ê´‘ì—­" },
        { busNo: "360", start: "ê°•ë‚¨ì—­", end: "í™ëŒ€ì…êµ¬", waitTime: 25, travelTime: 30, type: "ê°„ì„ " },
        { busNo: "ë§ˆì„01", start: "ì§‘ì•", end: "ì‹œì¥", waitTime: 5, travelTime: 10, type: "ë§ˆì„" } // ë‹¤ë¥¸ ê²½ë¡œ ë°ì´í„°
    ];

    function findBus() {
        const startInput = document.getElementById('startStation').value.trim();
        const endInput = document.getElementById('endStation').value.trim();
        const resultArea = document.getElementById('resultArea');

        if (!startInput || !endInput) {
            alert("ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        // 1. ì¶œë°œì§€/ë„ì°©ì§€ê°€ ì¼ì¹˜í•˜ëŠ” ë°ì´í„° í•„í„°ë§
        // ì‹¤ì œ API ì—°ë™ ì‹œì—ëŠ” ì—¬ê¸°ì„œ fetch()ë¥¼ í†µí•´ ì„œë²„ì— ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
        const filteredBuses = mockBusData.filter(bus => 
            bus.start === startInput && bus.end === endInput
        );

        if (filteredBuses.length === 0) {
            alert("ê²€ìƒ‰ëœ ê²½ë¡œê°€ ì—†ìŠµë‹ˆë‹¤. (ìƒ˜í”Œ: ê°•ë‚¨ì—­ -> í™ëŒ€ì…êµ¬)");
            resultArea.style.display = 'none';
            return;
        }

        // 2. ë°ì´í„° ì •ë ¬ ë¡œì§
        
        // A. ëŒ€ê¸° ì‹œê°„ ì§§ì€ ìˆœ (waitTime ì˜¤ë¦„ì°¨ìˆœ)
        const sortedByWait = [...filteredBuses].sort((a, b) => a.waitTime - b.waitTime);

        // B. ëª©ì ì§€ ë„ì°© ë¹ ë¥¸ ìˆœ (ëŒ€ê¸°ì‹œê°„ + ì´ë™ì‹œê°„ í•©ê³„ ì˜¤ë¦„ì°¨ìˆœ)
        const sortedByFast = [...filteredBuses].sort((a, b) => 
            (a.waitTime + a.travelTime) - (b.waitTime + b.travelTime)
        );

        // 3. í™”ë©´ ë Œë”ë§
        renderList('listByWait', sortedByWait, 'wait');
        renderList('listByFast', sortedByFast, 'total');
        
        resultArea.style.display = 'block';
    }

    // HTML ìƒì„± í—¬í¼ í•¨ìˆ˜
    function renderList(elementId, data, highlightMode) {
        const container = document.getElementById(elementId);
        container.innerHTML = ""; // ì´ˆê¸°í™”

        data.forEach(bus => {
            const totalTime = bus.waitTime + bus.travelTime;
            
            let html = `
                <div class="card">
                    <div class="bus-info">
                        <div class="bus-num">${bus.busNo} <span class="badge">${bus.type}</span></div>
                        <div class="route-info">${bus.start} â¡ ${bus.end}</div>
                    </div>
                    <div class="time-info">
            `;

            // ê°•ì¡° ëª¨ë“œì— ë”°ë¼ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ë‹¤ë¥´ê²Œ í‘œì‹œ
            if (highlightMode === 'wait') {
                html += `
                    <div class="wait-time">${bus.waitTime}ë¶„ í›„ ë„ì°©</div>
                    <div class="total-time">ì´ ì†Œìš” ${totalTime}ë¶„</div>
                `;
            } else {
                html += `
                    <div class="wait-time" style="color:#333; font-size:0.9rem;">${bus.waitTime}ë¶„ í›„ íƒ‘ìŠ¹</div>
                    <div class="total-time" style="color:#d9534f; font-weight:bold;">ì´ ${totalTime}ë¶„ ì†Œìš”</div>
                `;
            }

            html += `</div></div>`;
            container.innerHTML += html;
        });
    }
</script>

</body>
</html>
